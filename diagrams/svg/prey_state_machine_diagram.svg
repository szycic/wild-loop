<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1036px" preserveAspectRatio="none" style="width:1144px;height:1036px;background:#FFFFFF;" version="1.1" viewBox="0 0 1144 1036" width="1144px" zoomAndPan="magnify"><title>Prey State Machine Diagram</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="198.3513" x="465.9534" y="24.9659">Prey State Machine Diagram</text><ellipse cx="470.29" cy="56.0679" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><g id="Idle"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="445.29" y="145.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="445.29" x2="495.29" y1="174.1358" y2="174.1358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24.8639" x="457.858" y="165.0339">Idle</text></g><path d="M109.13,310.0679 L451.4451,310.0679 A12.5,12.5 0 0 1 463.9451,322.5679 L463.9451,339.1358 L96.63,339.1358 L96.63,322.5679 A12.5,12.5 0 0 1 109.13,310.0679 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="462.0679" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="367.3151" x="96.63" y="310.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="96.63" x2="463.9451" y1="339.1358" y2="339.1358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.1538" x="255.7107" y="330.0339">Moving</text><ellipse cx="220.13" cy="360.1358" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><g id="Moving.DecideDirection"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="124.9716" x="157.64" y="407.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="157.64" x2="282.6116" y1="436.2038" y2="436.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.9716" x="167.64" y="427.1018">DecideDirection</text></g><g id="Moving.Flee"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="145.13" y="548.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="145.13" x2="195.13" y1="577.2038" y2="577.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.6699" x="156.7951" y="568.1018">Flee</text></g><g id="Moving.RandomMove"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="111.5596" x="238.35" y="548.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="238.35" x2="349.9096" y1="577.2038" y2="577.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.5596" x="248.35" y="568.1018">RandomMove</text></g><g id="Moving.MoveAction"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="97.6297" x="170.31" y="653.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="170.31" x2="267.9397" y1="682.2038" y2="682.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.6297" x="180.31" y="673.1018">MoveAction</text></g><ellipse cx="219.13" cy="751.1358" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="219.13" cy="751.1358" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1.0;"/><!--link *start*Moving to DecideDirection--><g id="link_*start*Moving_DecideDirection"><path d="M220.13,370.5758 C220.13,379.8358 220.13,388.3258 220.13,400.8158 " fill="none" id="*start*Moving-to-DecideDirection" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="220.13,406.8158,224.13,397.8158,220.13,401.8158,216.13,397.8158,220.13,406.8158" style="stroke:#181818;stroke-width:1.0;"/></g><!--link DecideDirection to Flee--><g id="link_DecideDirection_Flee"><path d="M157.32,447.0558 C143.09,453.2558 129.68,462.2158 121.13,475.1358 C107.63,495.5158 110.91,507.9258 121.13,530.1358 C126.14,541.0258 130.7237,546.5508 139.9437,553.4808 " fill="none" id="DecideDirection-to-Flee" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="144.74,557.0858,139.949,548.4808,140.7431,554.0817,135.1423,554.8758,144.74,557.0858" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.1102" x="122.13" y="490.0328">predator within FLEE_RANGE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9251" x="136.7225" y="507.7389">getNextMoveDirection()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.0831" x="135.6435" y="525.4449">directionFrom(predator)</text></g><!--link DecideDirection to RandomMove--><g id="link_DecideDirection_RandomMove"><path d="M281.97,457.5658 C288.37,462.4558 294.02,468.2658 298.13,475.1358 C311.26,497.1258 308.8768,521.393 303.5568,542.193 " fill="none" id="DecideDirection-to-RandomMove" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="302.07,548.0058,308.1754,540.2777,303.309,543.1618,300.4249,538.2953,302.07,548.0058" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2231" x="321.371" y="490.0328">no predator nearby</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9251" x="308.02" y="507.7389">getNextMoveDirection()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3271" x="327.819" y="525.4449">random direction</text></g><!--link Flee to MoveAction--><g id="link_Flee_MoveAction"><path d="M181.74,598.5458 C189.55,614.9658 197.2217,631.0981 205.0217,647.4881 " fill="none" id="Flee-to-MoveAction" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="207.6,652.9058,207.3444,643.0603,205.4514,648.391,200.1207,646.4981,207.6,652.9058" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.756" x="200.01" y="631.0328">move()</text></g><!--link RandomMove to MoveAction--><g id="link_RandomMove_MoveAction"><path d="M276.35,598.5458 C264.4,614.9658 252.231,631.6648 240.301,648.0548 " fill="none" id="RandomMove-to-MoveAction" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="236.77,652.9058,245.3005,647.9833,239.7125,648.8633,238.8324,643.2753,236.77,652.9058" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.756" x="264.34" y="631.0328">move()</text></g><!--link MoveAction to *end*Moving--><g id="link_MoveAction_*end*Moving"><path d="M219.13,703.5658 C219.13,715.9258 219.13,724.2658 219.13,733.7358 " fill="none" id="MoveAction-to-*end*Moving" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="219.13,739.7358,223.13,730.7358,219.13,734.7358,215.13,730.7358,219.13,739.7358" style="stroke:#181818;stroke-width:1.0;"/></g><g id="Eating"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="61.5658" x="503.51" y="851.1379"/><line style="stroke:#181818;stroke-width:0.5;" x1="503.51" x2="565.0758" y1="880.2058" y2="880.2058"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.5658" x="513.51" y="871.1039">Eating</text></g><g id="Reproducing"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104.3217" x="714.13" y="980.1379"/><line style="stroke:#181818;stroke-width:0.5;" x1="714.13" x2="818.4517" y1="1009.2058" y2="1009.2058"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.3217" x="724.13" y="1000.1039">Reproducing</text></g><g id="Dead"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54.5799" x="7" y="516.1079"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="61.5799" y1="545.1758" y2="545.1758"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.5799" x="17" y="536.0739">Dead</text></g><ellipse cx="34.29" cy="876.1379" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="34.29" cy="876.1379" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1.0;"/><!--link *start* to Idle--><g id="link_*start*_Idle"><path d="M470.29,66.2379 C470.29,83.2679 470.29,114.2979 470.29,138.9579 " fill="none" id="*start*-to-Idle" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="470.29,144.9579,474.29,135.9579,470.29,139.9579,466.29,135.9579,470.29,144.9579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.254" x="471.29" y="110.9649">created</text></g><!--link Idle to Moving--><g id="link_Idle_Moving"><path d="M444.94,186.7279 C431.08,196.3579 414.5,209.7679 403.29,225.0679 C384.38,250.8779 370.5122,274.5572 356.3622,304.3772 " fill="none" id="Idle-to-Moving" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="353.79,309.7979,361.2621,303.3817,355.9335,305.2807,354.0345,299.9521,353.79,309.7979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.2461" x="404.29" y="239.9649">on tick / update()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.9771" x="408.9245" y="257.6709">incrementAge()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.756" x="435.035" y="275.377">move()</text></g><!--link Moving to Eating--><g id="link_Moving_Eating"><path d="M439.76,772.6179 C452.79,789.2979 466.05,805.6479 479.29,821.1379 C487.98,831.3079 493.9615,837.6125 503.2715,846.5925 " fill="none" id="Moving-to-Eating" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="507.59,850.7579,503.8892,841.6308,503.9913,847.2867,498.3353,847.3888,507.59,850.7579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.118" x="480.29" y="817.0349">eat()</text></g><!--link Eating to Reproducing--><g id="link_Eating_Reproducing"><path d="M546.46,901.3879 C555.65,917.3779 569.67,937.6179 587.29,950.1379 C624.86,976.8379 669.9268,989.4643 707.8668,996.3643 " fill="none" id="Eating-to-Reproducing" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="713.77,997.4379,705.631,991.8921,708.8507,996.5433,704.1995,999.763,713.77,997.4379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383.7344" x="588.29" y="946.0349">energy &gt;= REPRODUCTION_ENERGY_THRESHOLD / reproduce()</text></g><!--link Eating to Idle--><g id="link_Eating_Idle"><path d="M535.46,850.7279 C540.1,747.0479 555.06,343.1879 512.29,225.0679 C508.41,214.3479 505.3277,208.7231 498.2477,200.0631 " fill="none" id="Eating-to-Idle" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="494.45,195.4179,497.0497,204.9175,497.6147,199.2889,503.2433,199.8539,494.45,195.4179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409.2663" x="542.79" y="546.5049">energy &lt; REPRODUCTION_ENERGY_THRESHOLD / nothing happens</text></g><!--link Reproducing to Idle--><g id="link_Reproducing_Idle"><path d="M818.81,997.9679 C874.53,990.2079 957.14,974.8279 976.29,950.1379 C1063.47,837.6979 1048.47,422.5079 961.29,310.0679 C902.12,233.7579 593.6171,187.4132 501.5671,175.1032 " fill="none" id="Reproducing-to-Idle" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="495.62,174.3079,504.0104,179.4656,500.5759,174.9707,505.0708,171.5362,495.62,174.3079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.1881" x="1026.07" y="817.0349">done reproducing</text></g><!--link Idle to Dead--><g id="link_Idle_Dead"><path d="M445.08,170.6579 C390.92,170.7779 260.69,176.5479 166.29,225.0679 C118.21,249.7779 104.97,262.5079 79.29,310.0679 C42.55,378.1079 35.7187,465.86 34.5587,509.69 " fill="none" id="Idle-to-Dead" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="34.4,515.6879,38.6367,506.7969,34.5323,510.6897,30.6395,506.5852,34.4,515.6879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.9541" x="222.1955" y="248.9649">at end of turn</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.7652" x="167.29" y="266.6709">(energy &lt;= 0 or age &gt;= maxAge)</text></g><!--link Dead to *end*--><g id="link_Dead_*end*"><path d="M34.29,566.5879 C34.29,633.7379 34.29,812.8179 34.29,858.7279 " fill="none" id="Dead-to-*end*" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="34.29,864.7279,38.29,855.7279,34.29,859.7279,30.29,855.7279,34.29,864.7279" style="stroke:#181818;stroke-width:1.0;"/></g><!--SRC=[XL9VImCn37_lfyYRcp3qMPmml9iARfDpFeYJKTjuLzorHvUfX_ZTJNiTcuAwXnj9Vd_I96HeXN3ZiOLRaeGmaQeo5Y4pilIo5kBXy146WpEuqWmy0UMHOLg868V2nBqQMtB9MI2ZNk08DercKA-_iCOoeKPBepB6jNlbVo7MdLb7_H30lwrHXifep8n7HSRPMFkHYxZn2aD3ZKSsSnxU377dCBxEysKncbxa2riYJV6Ts6R73LteRJ3shkvj5Vg_MXNIQbS76JQqRkTfKVgdzdSZ7ucWlpqcDfucXwFEvGJIP09Wp-uls5u-m7X-ubE8DDEGoILrc-6LCIU5yK7OUAStAfKj-hA5io4K-Kqno-xEvrUpwJAVviN5_N9-MUItbxFhZ1Vh4m-_owNRI3gd_yfO5rPLGYMR1krQxBUpfwST7wBVrOGuuFL8gi2iGLMeNb3prQrQaC-47gX2UAiSSrMh-DlhqXvfustG9XUb-xlZPJdDJfAuUTPwXW1TsDxsAKCu1jwpB36CfvRlVCTylf6MXlu5]--></g></svg>