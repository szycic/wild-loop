<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="STATE" height="970px" preserveAspectRatio="none" style="width:755px;height:970px;background:#FFFFFF;" version="1.1" viewBox="0 0 755 970" width="755px" zoomAndPan="magnify"><title>Prey State Machine Diagram</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="198.3513" x="271.6224" y="24.9659">Prey State Machine Diagram</text></g><path d="M279.57,47.0679 L621.8851,47.0679 A12.5,12.5 0 0 1 634.3851,59.5679 L634.3851,76.1358 L267.07,76.1358 L267.07,59.5679 A12.5,12.5 0 0 1 279.57,47.0679" fill="#F1F1F1"/><rect fill="none" height="347.0679" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="367.3151" x="267.07" y="47.0679"/><line style="stroke:#181818;stroke-width:0.5;" x1="267.07" x2="634.3851" y1="76.1358" y2="76.1358"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.1538" x="426.1507" y="67.0339">Moving</text><g id="Moving.DecideDirection"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="124.9716" x="328.08" y="88.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="328.08" x2="453.0516" y1="117.2038" y2="117.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.9716" x="338.08" y="108.1018">DecideDirection</text></g><g id="Moving.Flee"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="315.57" y="229.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="315.57" x2="365.57" y1="258.2038" y2="258.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.6699" x="327.2351" y="249.1018">Flee</text></g><g id="Moving.RandomMove"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="111.5596" x="408.79" y="229.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="408.79" x2="520.3496" y1="258.2038" y2="258.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.5596" x="418.79" y="249.1018">RandomMove</text></g><g id="Moving.MoveAction"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="97.6297" x="340.75" y="334.1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="340.75" x2="438.3797" y1="363.2038" y2="363.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.6297" x="350.75" y="354.1018">MoveAction</text></g><!--link DecideDirection to Flee--><g class="link" data-entity-1="DecideDirection" data-entity-2="Flee" data-source-line="6" data-uid="lnk6" id="link_DecideDirection_Flee"><path d="M327.76,128.0558 C313.53,134.2558 300.12,143.2158 291.57,156.1358 C278.07,176.5158 281.35,188.9258 291.57,211.1358 C296.58,222.0258 301.1637,227.5508 310.3837,234.4808" fill="none" id="DecideDirection-to-Flee" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="315.18,238.0858,310.389,229.4808,311.1831,235.0817,305.5823,235.8758,315.18,238.0858" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.1102" x="292.57" y="171.0328">predator within FLEE_RANGE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9251" x="307.1625" y="188.7389">getNextMoveDirection()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.0831" x="306.0835" y="206.4449">directionFrom(predator)</text></g><!--link DecideDirection to RandomMove--><g class="link" data-entity-1="DecideDirection" data-entity-2="RandomMove" data-source-line="7" data-uid="lnk8" id="link_DecideDirection_RandomMove"><path d="M452.41,138.5658 C458.81,143.4558 464.46,149.2658 468.57,156.1358 C481.7,178.1258 479.3168,202.393 473.9968,223.193" fill="none" id="DecideDirection-to-RandomMove" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="472.51,229.0058,478.6154,221.2777,473.749,224.1618,470.8649,219.2953,472.51,229.0058" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2231" x="491.811" y="171.0328">no predator nearby</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9251" x="478.46" y="188.7389">getNextMoveDirection()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3271" x="498.259" y="206.4449">random direction</text></g><!--link Flee to MoveAction--><g class="link" data-entity-1="Flee" data-entity-2="MoveAction" data-source-line="8" data-uid="lnk10" id="link_Flee_MoveAction"><path d="M352.18,279.5458 C359.99,295.9658 367.6617,312.0981 375.4617,328.4881" fill="none" id="Flee-to-MoveAction" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="378.04,333.9058,377.7844,324.0603,375.8914,329.391,370.5607,327.4981,378.04,333.9058" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.756" x="370.45" y="312.0328">move()</text></g><!--link RandomMove to MoveAction--><g class="link" data-entity-1="RandomMove" data-entity-2="MoveAction" data-source-line="9" data-uid="lnk11" id="link_RandomMove_MoveAction"><path d="M446.79,279.5458 C434.84,295.9658 422.671,312.6648 410.741,329.0548" fill="none" id="RandomMove-to-MoveAction" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="407.21,333.9058,415.7405,328.9833,410.1525,329.8633,409.2724,324.2753,407.21,333.9058" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.756" x="434.78" y="312.0328">move()</text></g><g id="Idle"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="502.73" y="767.1379"/><line style="stroke:#181818;stroke-width:0.5;" x1="502.73" x2="552.73" y1="796.2058" y2="796.2058"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24.8639" x="515.298" y="787.1039">Idle</text></g><g id="Eating"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="61.5658" x="206.94" y="473.1379"/><line style="stroke:#181818;stroke-width:0.5;" x1="206.94" x2="268.5058" y1="502.2058" y2="502.2058"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.5658" x="216.94" y="493.1039">Eating</text></g><g id="Reproducing"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104.3217" x="490.57" y="638.1379"/><line style="stroke:#181818;stroke-width:0.5;" x1="490.57" x2="594.8917" y1="667.2058" y2="667.2058"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.3217" x="500.57" y="658.1039">Reproducing</text></g><g id="Dead"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54.5799" x="500.44" y="914.1379"/><line style="stroke:#181818;stroke-width:0.5;" x1="500.44" x2="555.0199" y1="943.2058" y2="943.2058"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.5799" x="510.44" y="934.1039">Dead</text></g><!--link Idle to Moving--><g class="link" data-entity-1="Idle" data-entity-2="Moving" data-source-line="3" data-uid="lnk3" id="link_Idle_Moving"><path d="M553.16,787.0279 C580.18,781.1479 621.59,767.4879 640.73,737.1379 C684.53,667.6679 647.35,631.7879 623.73,553.1379 C607.57,499.3579 585.3647,449.3825 559.3547,399.7425" fill="none" id="Idle-to-Moving" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="556.57,394.4279,557.204,404.2563,558.8906,398.8568,564.2902,400.5434,556.57,394.4279" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.2461" x="644.35" y="568.0349">on tick / update()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.9771" x="648.9845" y="585.7409">incrementAge()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.756" x="675.095" y="603.447">move()</text></g><!--link Moving to Eating--><g class="link" data-entity-1="Moving" data-entity-2="Eating" data-source-line="12" data-uid="lnk13" id="link_Moving_Eating"><path d="M317.04,394.5379 C293.14,425.4579 274.8598,449.1011 260.1398,468.1411" fill="none" id="Moving-to-Eating" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="256.47,472.8879,265.1393,468.2142,259.5282,468.9322,258.8102,463.3211,256.47,472.8879" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.118" x="290.2" y="439.0349">eat()</text></g><!--link Eating to Reproducing--><g class="link" data-entity-1="Eating" data-entity-2="Reproducing" data-source-line="13" data-uid="lnk15" id="link_Eating_Reproducing"><path d="M228.49,523.5679 C220.99,548.0279 214.62,585.2279 234.73,608.1379 C268.58,646.7179 413.56,627.3079 463.73,638.1379 C472.41,640.0179 475.7609,640.7396 484.5809,643.2596" fill="none" id="Eating-to-Reproducing" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="490.35,644.9079,482.7952,638.5893,485.5424,643.5343,480.5974,646.2815,490.35,644.9079" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383.7344" x="235.73" y="586.0349">energy &gt;= REPRODUCTION_ENERGY_THRESHOLD / reproduce()</text></g><!--link Eating to Idle--><g class="link" data-entity-1="Eating" data-entity-2="Idle" data-source-line="14" data-uid="lnk16" id="link_Eating_Idle"><path d="M206.64,512.9579 C142.51,543.3379 6,618.7479 61.73,688.1379 C118.02,758.2279 407.724,783.088 496.514,789.168" fill="none" id="Eating-to-Idle" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="502.5,789.5779,493.7943,784.9724,497.5117,789.2363,493.2478,792.9537,502.5,789.5779" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409.2663" x="62.73" y="668.5349">energy &lt; REPRODUCTION_ENERGY_THRESHOLD / nothing happens</text></g><!--link Reproducing to Idle--><g class="link" data-entity-1="Reproducing" data-entity-2="Idle" data-source-line="15" data-uid="lnk17" id="link_Reproducing_Idle"><path d="M532.78,688.4479 C529.53,697.5979 526.34,708.1879 524.73,718.1379 C522.13,734.1679 522.2929,746.4467 523.6929,760.6867" fill="none" id="Reproducing-to-Idle" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="524.28,766.6579,527.3802,757.3097,523.7908,761.6819,519.4186,758.0925,524.28,766.6579" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.1881" x="525.73" y="733.0349">done reproducing</text></g><!--link Idle to Dead--><g class="link" data-entity-1="Idle" data-entity-2="Dead" data-source-line="18" data-uid="lnk19" id="link_Idle_Dead"><path d="M527.73,817.4079 C527.73,844.1779 527.73,880.9879 527.73,907.7879" fill="none" id="Idle-to-Dead" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="527.73,913.7879,531.73,904.7879,527.73,908.7879,523.73,904.7879,527.73,913.7879" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.9541" x="583.6355" y="862.0349">at end of turn</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.7652" x="528.73" y="879.7409">(energy &lt;= 0 or age &gt;= maxAge)</text></g><!--SRC=[XP9DJyCm38Rl-HM-qHuGd2SsQQBTXmJRLE20D6aAYTT6MvCgymOLuh_ZjDq7XuaUMhdn-xoERJAqHLXuhE65924yIrKOYv0OcNjP2Z7Ld71xEu1dTp0sXnuu2sJK1kvWNsdMHF7I6giybcXfc3TnwGxy5MBNGblfjm1-4bH6Os8yAZBC2kpH5f79bKS6EW-VXhWA63sbwIeRpiRfqkP8C_mYHfsrmKaVWv5tPNGan5UjCccrAmE63QqxUrgK_gE-RkGR8Ppy6eUcyAuxE6nTUj3TFYHSs5rB-n6YQr38I2MrRKP9VDY5JULOUQVtgZkswFCQ1dt8qaKsJzuUNwVpsIgTfTduVVKwoTANoVmfuIdvJeT_SSrWJvo7Vp7MXPdaKCYgGhiJb-LSyBJZxV7dCo5kU0wI2Z0xK0Mg3MfUeMqDSateWGg4pyAnLjMAtr7xsoFjlGriSWqwFcyYupGxIUBYcRM6aBgqqV4gVRW77gZCCRIdb5-ybB7u1G00]--></g></svg>